2025-09-19T12:22:15.6208504Z Current runner version: '2.328.0'
2025-09-19T12:22:15.6239627Z ##[group]Runner Image Provisioner
2025-09-19T12:22:15.6241051Z Hosted Compute Agent
2025-09-19T12:22:15.6241976Z Version: 20250829.383
2025-09-19T12:22:15.6243155Z Commit: 27cb235aab5b0e52e153a26cd86b4742e89dac5d
2025-09-19T12:22:15.6244337Z Build Date: 2025-08-29T13:48:48Z
2025-09-19T12:22:15.6245423Z ##[endgroup]
2025-09-19T12:22:15.6246281Z ##[group]Operating System
2025-09-19T12:22:15.6247217Z Ubuntu
2025-09-19T12:22:15.6247945Z 24.04.3
2025-09-19T12:22:15.6248880Z LTS
2025-09-19T12:22:15.6249652Z ##[endgroup]
2025-09-19T12:22:15.6250715Z ##[group]Runner Image
2025-09-19T12:22:15.6251830Z Image: ubuntu-24.04
2025-09-19T12:22:15.6252676Z Version: 20250907.24.1
2025-09-19T12:22:15.6254380Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20250907.24/images/ubuntu/Ubuntu2404-Readme.md
2025-09-19T12:22:15.6257141Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20250907.24
2025-09-19T12:22:15.6258865Z ##[endgroup]
2025-09-19T12:22:15.6261205Z ##[group]GITHUB_TOKEN Permissions
2025-09-19T12:22:15.6264104Z Contents: read
2025-09-19T12:22:15.6265091Z Metadata: read
2025-09-19T12:22:15.6265938Z Packages: read
2025-09-19T12:22:15.6266791Z ##[endgroup]
2025-09-19T12:22:15.6269541Z Secret source: Actions
2025-09-19T12:22:15.6271186Z Prepare workflow directory
2025-09-19T12:22:15.6794949Z Prepare all required actions
2025-09-19T12:22:15.6850436Z Getting action download info
2025-09-19T12:22:16.0184815Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-09-19T12:22:16.2101738Z Download action repository 'actions/cache@v4' (SHA:0400d5f644dc74513175e3cd8d07132dd4860809)
2025-09-19T12:22:16.3626415Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-09-19T12:22:16.4857257Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-09-19T12:22:16.7094816Z Complete job name: e2e
2025-09-19T12:22:16.7887275Z ##[group]Run actions/checkout@v4
2025-09-19T12:22:16.7888378Z with:
2025-09-19T12:22:16.7889052Z   repository: Picsbyeli/Picsbyeli.github.io
2025-09-19T12:22:16.7890362Z   token: ***
2025-09-19T12:22:16.7890957Z   ssh-strict: true
2025-09-19T12:22:16.7891571Z   ssh-user: git
2025-09-19T12:22:16.7892192Z   persist-credentials: true
2025-09-19T12:22:16.7892899Z   clean: true
2025-09-19T12:22:16.7893523Z   sparse-checkout-cone-mode: true
2025-09-19T12:22:16.7894289Z   fetch-depth: 1
2025-09-19T12:22:16.7894890Z   fetch-tags: false
2025-09-19T12:22:16.7895518Z   show-progress: true
2025-09-19T12:22:16.7896143Z   lfs: false
2025-09-19T12:22:16.7896719Z   submodules: false
2025-09-19T12:22:16.7897360Z   set-safe-directory: true
2025-09-19T12:22:16.7898275Z env:
2025-09-19T12:22:16.7898933Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:16.7899759Z ##[endgroup]
2025-09-19T12:22:16.8967186Z Syncing repository: Picsbyeli/Picsbyeli.github.io
2025-09-19T12:22:16.8969779Z ##[group]Getting Git version info
2025-09-19T12:22:16.8971646Z Working directory is '/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io'
2025-09-19T12:22:16.8973743Z [command]/usr/bin/git version
2025-09-19T12:22:16.9022155Z git version 2.51.0
2025-09-19T12:22:16.9047837Z ##[endgroup]
2025-09-19T12:22:16.9068478Z Temporarily overriding HOME='/home/runner/work/_temp/b4c4cbc5-d5d9-40a7-b431-e6f0934fd3dc' before making global git config changes
2025-09-19T12:22:16.9071038Z Adding repository directory to the temporary git global config as a safe directory
2025-09-19T12:22:16.9073997Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io
2025-09-19T12:22:16.9106704Z Deleting the contents of '/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io'
2025-09-19T12:22:16.9109725Z ##[group]Initializing the repository
2025-09-19T12:22:16.9114110Z [command]/usr/bin/git init /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io
2025-09-19T12:22:16.9202367Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-09-19T12:22:16.9205329Z hint: is subject to change. To configure the initial branch name to use in all
2025-09-19T12:22:16.9208265Z hint: of your new repositories, which will suppress this warning, call:
2025-09-19T12:22:16.9209573Z hint:
2025-09-19T12:22:16.9210843Z hint: 	git config --global init.defaultBranch <name>
2025-09-19T12:22:16.9211943Z hint:
2025-09-19T12:22:16.9213376Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-09-19T12:22:16.9215093Z hint: 'development'. The just-created branch can be renamed via this command:
2025-09-19T12:22:16.9216423Z hint:
2025-09-19T12:22:16.9217108Z hint: 	git branch -m <name>
2025-09-19T12:22:16.9218208Z hint:
2025-09-19T12:22:16.9219711Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-09-19T12:22:16.9222104Z Initialized empty Git repository in /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/.git/
2025-09-19T12:22:16.9224971Z [command]/usr/bin/git remote add origin https://github.com/Picsbyeli/Picsbyeli.github.io
2025-09-19T12:22:16.9254423Z ##[endgroup]
2025-09-19T12:22:16.9255890Z ##[group]Disabling automatic garbage collection
2025-09-19T12:22:16.9257311Z [command]/usr/bin/git config --local gc.auto 0
2025-09-19T12:22:16.9285692Z ##[endgroup]
2025-09-19T12:22:16.9287109Z ##[group]Setting up auth
2025-09-19T12:22:16.9291540Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-19T12:22:16.9321136Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-19T12:22:16.9821123Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-19T12:22:16.9850716Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-19T12:22:17.0068362Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-09-19T12:22:17.0103123Z ##[endgroup]
2025-09-19T12:22:17.0104282Z ##[group]Fetching the repository
2025-09-19T12:22:17.0114200Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +9f425a4bbe3c212edc817cb26d467d3ae2159466:refs/remotes/origin/main
2025-09-19T12:22:18.0049113Z From https://github.com/Picsbyeli/Picsbyeli.github.io
2025-09-19T12:22:18.0050643Z  * [new ref]         9f425a4bbe3c212edc817cb26d467d3ae2159466 -> origin/main
2025-09-19T12:22:18.0084851Z ##[endgroup]
2025-09-19T12:22:18.0087779Z ##[group]Determining the checkout info
2025-09-19T12:22:18.0089323Z ##[endgroup]
2025-09-19T12:22:18.0093586Z [command]/usr/bin/git sparse-checkout disable
2025-09-19T12:22:18.0134301Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-09-19T12:22:18.0163638Z ##[group]Checking out the ref
2025-09-19T12:22:18.0167677Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-09-19T12:22:18.1041928Z Switched to a new branch 'main'
2025-09-19T12:22:18.1043752Z branch 'main' set up to track 'origin/main'.
2025-09-19T12:22:18.1052678Z ##[endgroup]
2025-09-19T12:22:18.1091636Z [command]/usr/bin/git log -1 --format=%H
2025-09-19T12:22:18.1114470Z 9f425a4bbe3c212edc817cb26d467d3ae2159466
2025-09-19T12:22:18.1867588Z ##[group]Run actions/cache@v4
2025-09-19T12:22:18.1867905Z with:
2025-09-19T12:22:18.1868132Z   path: ~/.npm
node_modules

2025-09-19T12:22:18.1868582Z   key: Linux-root-node-c0e02a21023114227bf5467e460a268a9901d357ed5e5a7bc7e9c5b94703267f
2025-09-19T12:22:18.1869069Z   restore-keys: Linux-root-node-

2025-09-19T12:22:18.1869368Z   enableCrossOsArchive: false
2025-09-19T12:22:18.1869645Z   fail-on-cache-miss: false
2025-09-19T12:22:18.1869903Z   lookup-only: false
2025-09-19T12:22:18.1870666Z   save-always: false
2025-09-19T12:22:18.1870898Z env:
2025-09-19T12:22:18.1871131Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:18.1871416Z ##[endgroup]
2025-09-19T12:22:18.4253931Z Cache not found for input keys: Linux-root-node-c0e02a21023114227bf5467e460a268a9901d357ed5e5a7bc7e9c5b94703267f, Linux-root-node-
2025-09-19T12:22:18.4891279Z ##[group]Run actions/cache@v4
2025-09-19T12:22:18.4891614Z with:
2025-09-19T12:22:18.4891850Z   path: ~/.cache/ms-playwright
2025-09-19T12:22:18.4892312Z   key: Linux-playwright-22941a22530ab80707140b28eb0c3ffbfa7741eab03cef362ab1ce050ed2c1d8
2025-09-19T12:22:18.4892816Z   restore-keys: Linux-playwright-

2025-09-19T12:22:18.4893116Z   enableCrossOsArchive: false
2025-09-19T12:22:18.4893388Z   fail-on-cache-miss: false
2025-09-19T12:22:18.4893641Z   lookup-only: false
2025-09-19T12:22:18.4893876Z   save-always: false
2025-09-19T12:22:18.4894096Z env:
2025-09-19T12:22:18.4894323Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:18.4894658Z ##[endgroup]
2025-09-19T12:22:18.6966878Z Cache not found for input keys: Linux-playwright-22941a22530ab80707140b28eb0c3ffbfa7741eab03cef362ab1ce050ed2c1d8, Linux-playwright-
2025-09-19T12:22:18.7088134Z ##[group]Run actions/setup-node@v4
2025-09-19T12:22:18.7088438Z with:
2025-09-19T12:22:18.7088647Z   node-version: 18
2025-09-19T12:22:18.7088875Z   always-auth: false
2025-09-19T12:22:18.7089112Z   check-latest: false
2025-09-19T12:22:18.7089478Z   token: ***
2025-09-19T12:22:18.7089677Z env:
2025-09-19T12:22:18.7089901Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:18.7090382Z ##[endgroup]
2025-09-19T12:22:18.9182025Z Found in cache @ /opt/hostedtoolcache/node/18.20.8/x64
2025-09-19T12:22:18.9188867Z ##[group]Environment details
2025-09-19T12:22:21.2354309Z node: v18.20.8
2025-09-19T12:22:21.2354586Z npm: 10.8.2
2025-09-19T12:22:21.2354856Z yarn: 1.22.22
2025-09-19T12:22:21.2355879Z ##[endgroup]
2025-09-19T12:22:21.2464715Z ##[group]Run npm ci --prefer-offline --no-audit --no-fund
2025-09-19T12:22:21.2465171Z [36;1mnpm ci --prefer-offline --no-audit --no-fund[0m
2025-09-19T12:22:21.2592409Z shell: /usr/bin/bash -e {0}
2025-09-19T12:22:21.2592681Z env:
2025-09-19T12:22:21.2592908Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:21.2593205Z ##[endgroup]
2025-09-19T12:22:25.6445258Z 
2025-09-19T12:22:25.6451709Z added 3 packages in 4s
2025-09-19T12:22:25.7110539Z ##[group]Run actions/cache@v4
2025-09-19T12:22:25.7110808Z with:
2025-09-19T12:22:25.7110986Z   path: server/node_modules
2025-09-19T12:22:25.7111389Z   key: Linux-server-node-8e74b6c3567e86803f9447d57da90e5898c662643fa3b4d09d97c2859ece3afa
2025-09-19T12:22:25.7111826Z   restore-keys: Linux-server-node-

2025-09-19T12:22:25.7112069Z   enableCrossOsArchive: false
2025-09-19T12:22:25.7112291Z   fail-on-cache-miss: false
2025-09-19T12:22:25.7112495Z   lookup-only: false
2025-09-19T12:22:25.7112681Z   save-always: false
2025-09-19T12:22:25.7112848Z env:
2025-09-19T12:22:25.7113041Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:25.7113299Z ##[endgroup]
2025-09-19T12:22:25.9043760Z Cache not found for input keys: Linux-server-node-8e74b6c3567e86803f9447d57da90e5898c662643fa3b4d09d97c2859ece3afa, Linux-server-node-
2025-09-19T12:22:25.9125656Z ##[group]Run npm ci --prefer-offline --no-audit --no-fund
2025-09-19T12:22:25.9126337Z [36;1mnpm ci --prefer-offline --no-audit --no-fund[0m
2025-09-19T12:22:25.9170071Z shell: /usr/bin/bash -e {0}
2025-09-19T12:22:25.9170671Z env:
2025-09-19T12:22:25.9170997Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:25.9171463Z ##[endgroup]
2025-09-19T12:22:27.2646885Z npm warn deprecated supertest@6.3.4: Please upgrade to supertest v7.1.3+, see release notes at https://github.com/forwardemail/supertest/releases/tag/v7.1.3 - maintenance is supported by Forward Email @ https://forwardemail.net
2025-09-19T12:22:27.5390406Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-09-19T12:22:27.6143267Z npm warn deprecated glob@8.1.0: Glob versions prior to v9 are no longer supported
2025-09-19T12:22:27.6633501Z npm warn deprecated multer@1.4.5-lts.2: Multer 1.x is impacted by a number of vulnerabilities, which have been patched in 2.x. You should upgrade to the latest 2.x version.
2025-09-19T12:22:27.7993431Z npm warn deprecated superagent@8.1.2: Please upgrade to superagent v10.2.2+, see release notes at https://github.com/forwardemail/superagent/releases/tag/v10.2.2 - maintenance is supported by Forward Email @ https://forwardemail.net
2025-09-19T12:22:27.9492225Z npm warn deprecated sinon@15.2.0: 16.1.1
2025-09-19T12:22:28.1557645Z 
2025-09-19T12:22:28.1558159Z added 210 packages in 2s
2025-09-19T12:22:28.1742415Z ##[group]Run # Run server unit tests with Node experimental VM modules enabled so Mocha
2025-09-19T12:22:28.1743237Z [36;1m# Run server unit tests with Node experimental VM modules enabled so Mocha[0m
2025-09-19T12:22:28.1743722Z [36;1m# can load ESM-only dependencies without ERR_REQUIRE_ESM on the runner.[0m
2025-09-19T12:22:28.1744326Z [36;1m# This is a minimal, low-risk change to the CI environment.[0m
2025-09-19T12:22:28.1744642Z [36;1mset -euo pipefail[0m
2025-09-19T12:22:28.1744889Z [36;1mecho "Running server unit tests (mocha)"[0m
2025-09-19T12:22:28.1745356Z [36;1mNODE_OPTIONS="--experimental-vm-modules" \[0m
2025-09-19T12:22:28.1745836Z [36;1m  node ./node_modules/.bin/mocha --recursive --reporter spec[0m
2025-09-19T12:22:28.1776818Z shell: /usr/bin/bash -e {0}
2025-09-19T12:22:28.1777036Z env:
2025-09-19T12:22:28.1777231Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:28.1777480Z ##[endgroup]
2025-09-19T12:22:28.1828559Z Running server unit tests (mocha)
2025-09-19T12:22:28.5513335Z 
2025-09-19T12:22:28.5515473Z  Exception during run: Error [ERR_REQUIRE_ESM]: require() of ES Module /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/nanoid/index.js from /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/index.js not supported.
2025-09-19T12:22:28.5519165Z Instead change the require of /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/nanoid/index.js in /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/index.js to a dynamic import() which is available in all CommonJS modules.
2025-09-19T12:22:28.5521526Z     at Object.<anonymous> (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/index.js:8:20)
2025-09-19T12:22:28.5522815Z     at Object.<anonymous> (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/test/endpoints.spec.js:6:13)
2025-09-19T12:22:28.5524311Z     at async formattedImport (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/mocha/lib/nodejs/esm-utils.js:9:14)
2025-09-19T12:22:28.5525945Z     at async exports.requireOrImport (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/mocha/lib/nodejs/esm-utils.js:42:28)
2025-09-19T12:22:28.5527262Z     at async exports.loadFilesAsync (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/mocha/lib/nodejs/esm-utils.js:100:20)
2025-09-19T12:22:28.5528243Z     at async singleRun (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/mocha/lib/cli/run-helpers.js:162:3)
2025-09-19T12:22:28.5529158Z     at async exports.handler (/home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io/server/node_modules/mocha/lib/cli/run.js:375:5) {
2025-09-19T12:22:28.5529710Z   code: 'ERR_REQUIRE_ESM'
2025-09-19T12:22:28.5529931Z }
2025-09-19T12:22:28.5588813Z ##[error]Process completed with exit code 1.
2025-09-19T12:22:28.5653102Z ##[group]Run actions/upload-artifact@v4
2025-09-19T12:22:28.5653370Z with:
2025-09-19T12:22:28.5653546Z   name: playwright-artifacts
2025-09-19T12:22:28.5654078Z   path: test-results/**
playwright-report/**
trace.zip
./playwright-traces/**
./playwright-screenshots/**
/tmp/backend.log
/tmp/static.log

2025-09-19T12:22:28.5654783Z   retention-days: 7
2025-09-19T12:22:28.5654967Z   if-no-files-found: warn
2025-09-19T12:22:28.5655169Z   compression-level: 6
2025-09-19T12:22:28.5655352Z   overwrite: false
2025-09-19T12:22:28.5655541Z   include-hidden-files: false
2025-09-19T12:22:28.5655737Z env:
2025-09-19T12:22:28.5655926Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:28.5656159Z ##[endgroup]
2025-09-19T12:22:28.7880407Z Multiple search paths detected. Calculating the least common ancestor of all paths
2025-09-19T12:22:28.7886293Z The least common ancestor is /. This will be the root directory of the artifact
2025-09-19T12:22:28.7901434Z ##[warning]No files were found with the provided path: test-results/**
playwright-report/**
trace.zip
./playwright-traces/**
./playwright-screenshots/**
/tmp/backend.log
/tmp/static.log. No artifacts will be uploaded.
2025-09-19T12:22:28.7976601Z ##[group]Run if [ -f /tmp/backend.pid ]; then kill "$(cat /tmp/backend.pid)" || true; fi
2025-09-19T12:22:28.7977147Z [36;1mif [ -f /tmp/backend.pid ]; then kill "$(cat /tmp/backend.pid)" || true; fi[0m
2025-09-19T12:22:28.7977596Z [36;1mif [ -f /tmp/static.pid ]; then kill "$(cat /tmp/static.pid)" || true; fi[0m
2025-09-19T12:22:28.8007213Z shell: /usr/bin/bash -e {0}
2025-09-19T12:22:28.8007434Z env:
2025-09-19T12:22:28.8007621Z   NODE_OPTIONS: --experimental-vm-modules
2025-09-19T12:22:28.8007878Z ##[endgroup]
2025-09-19T12:22:28.8113438Z Post job cleanup.
2025-09-19T12:22:28.9050054Z [command]/usr/bin/git version
2025-09-19T12:22:28.9085834Z git version 2.51.0
2025-09-19T12:22:28.9129541Z Temporarily overriding HOME='/home/runner/work/_temp/b0904429-3be6-47a9-b203-8aa5da8033bd' before making global git config changes
2025-09-19T12:22:28.9131213Z Adding repository directory to the temporary git global config as a safe directory
2025-09-19T12:22:28.9143959Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/Picsbyeli.github.io/Picsbyeli.github.io
2025-09-19T12:22:28.9177677Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-09-19T12:22:28.9209671Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-09-19T12:22:28.9432914Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-09-19T12:22:28.9452902Z http.https://github.com/.extraheader
2025-09-19T12:22:28.9465535Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-09-19T12:22:28.9497226Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-09-19T12:22:28.9822012Z Cleaning up orphan processes
