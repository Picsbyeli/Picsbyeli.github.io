<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>E.Vol — Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="./styles.css" rel="stylesheet" />
</head>
<body>
  <!-- ✅ Advanced Audio Player -->
  <div id="audio-player" class="audio-bar">
    <div>
      <label for="playlist-select">Playlist:</label>
      <select id="playlist-select"></select>
      <button onclick="createPlaylist()">➕ New Playlist</button>
    </div>

    <input type="file" id="audio-upload" accept="audio/*" hidden multiple />
    <button onclick="document.getElementById('audio-upload').click()">Upload Songs</button>

    <input type="text" id="link-input" placeholder="Paste YouTube/Spotify/Apple Music URL" />
    <button onclick="addLink()">Add Link</button>

    <div>
      <button onclick="prevTrack()">⏮</button>
      <button onclick="togglePlay()">▶️ / ⏸</button>
      <button onclick="nextTrack()">⏭</button>
    </div>

    <span id="now-playing">Now Playing: None</span>
  </div>

  <div id="embed-container"></div>

  <header class="topbar">
    <div class="brand">🎮 E.Vol</div>
    <nav class="nav">
      <button data-view="home">Home</button>
      <button onclick="window.location.href='games/imposter.html'">Imposter</button>
      <button onclick="window.location.href='games/chess.html'">Chess</button>
      <button onclick="window.location.href='games/connect4.html'">Connect 4</button>
    </nav>
  </header>

  <main id="views">
    <!-- HOME -->
    <section id="view-home" class="view active">
      <h1>Welcome to E.Vol</h1>
      <p>Pick a game above and start playing. Guest play is enabled — no sign-in required.</p>
      <ul class="cards">
        <li><button data-view="imposter" class="card">🕵️ Imposter (multiplayer or vs bots)</button></li>
        <li><button data-view="chess" class="card">♟️ Chess (multiplayer or vs bot)</button></li>
        <li><button data-view="connect4" class="card">🔴 Connect 4 (multiplayer or vs bot)</button></li>
      </ul>
    </section>

    <!-- IMPOSTER -->
    <section id="view-imposter" class="view">
      <h2>🕵️ Imposter</h2>
      <div class="row">
        <div class="card">
          <h3>Lobby</h3>
          <div class="lobby-row">
            <button id="impCreate">Create Lobby</button>
            <input id="impJoinInput" placeholder="Lobby ID"/>
            <button id="impJoin">Join Lobby</button>
            <button id="impBotEasy" class="ghost">Play vs Bots (Easy)</button>
            <button id="impBotMedium" class="ghost">Bots (Medium)</button>
          </div>
          <div class="lobby-info">
            <div>Lobby: <span id="impLobbyId">—</span></div>
            <div>Players:</div>
            <ul id="impPlayers"></ul>
          </div>
        </div>
        <div class="card">
          <h3>Round</h3>
          <div id="impPhase">Phase: —</div>
          <div id="impWord" class="secret-word hidden">Secret word: <b id="impWordText"></b></div>
          <div class="row">
            <input id="impClue" placeholder="Your clue" />
            <button id="impClueBtn">Submit Clue</button>
          </div>
          <div>
            <h4>Clues</h4>
            <ul id="impClues"></ul>
          </div>
          <div>
            <h4>Vote</h4>
            <div id="impVoteBtns"></div>
          </div>
          <div>
            <h4>Results</h4>
            <ul id="impResults"></ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CHESS -->
    <section id="view-chess" class="view">
      <h2>♟️ Chess</h2>
      <div class="row">
        <div class="card">
          <h3>Lobby</h3>
          <div class="lobby-row">
            <button id="chessCreate">Create Lobby</button>
            <input id="chessJoinInput" placeholder="Lobby ID"/>
            <button id="chessJoin">Join Lobby</button>
            <button id="chessBotEasy" class="ghost">Play vs Bot (Easy)</button>
            <button id="chessBotMedium" class="ghost">Bot (Medium)</button>
          </div>
          <div>Lobby: <span id="chessLobbyId">—</span></div>
        </div>
        <div class="card">
          <h3>Moves (demo input)</h3>
          <div class="row">
            <input id="chessMove" placeholder="e2->e4, etc." />
            <button id="chessMoveBtn">Submit Move</button>
          </div>
          <ul id="chessMoves"></ul>
          <p class="hint">Tip: This is a lightweight text-move chess so you can test online play immediately. Swap in a visual chessboard later if you want.</p>
        </div>
      </div>
    </section>

    <!-- CONNECT 4 -->
    <section id="view-connect4" class="view">
      <h2>🔴 Connect 4</h2>
      <div class="row">
        <div class="card">
          <h3>Lobby</h3>
          <div class="lobby-row">
            <button id="c4Create">Create Lobby</button>
            <input id="c4JoinInput" placeholder="Lobby ID"/>
            <button id="c4Join">Join Lobby</button>
            <button id="c4BotEasy" class="ghost">Play vs Bot (Easy)</button>
            <button id="c4BotMedium" class="ghost">Bot (Medium)</button>
          </div>
          <div>Lobby: <span id="c4LobbyId">—</span></div>
        </div>
        <div class="card">
          <h3>Board</h3>
          <div id="c4Board" class="c4-board"></div>
          <div id="c4Status" class="status"></div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer (kept tiny; no random text) -->
  <footer class="footer">
    <span>© <span id="year"></span> E.Vol</span>
  </footer>

  <!-- Socket.IO client -->
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-cxZkYqQm9Lqk7SfhJ8SdPlgTT6mCw4NSwQ1g0e1Qm3kJZ0mZ2uO9W+7m1b+3yK2M" crossorigin="anonymous"></script>

  <!-- Audio player -->
  <script src="js/audio.js"></script>

  <!-- App scripts -->
  <script type="module" src="./main.js"></script>
</body>
</html>
